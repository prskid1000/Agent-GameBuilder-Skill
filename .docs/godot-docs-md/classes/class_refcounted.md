<span id="class_RefCounted"></span>

## RefCounted

**Inherits:** [Object](class_object.md#class_Object)

**Inherited By:** [AESContext](class_aescontext.md#class_AESContext), [AStar2D](class_astar2d.md#class_AStar2D), [AStar3D](class_astar3d.md#class_AStar3D), [AStarGrid2D](class_astargrid2d.md#class_AStarGrid2D), [AudioEffectInstance](class_audioeffectinstance.md#class_AudioEffectInstance), [AudioSample](class_audiosample.md#class_AudioSample), [AudioSamplePlayback](class_audiosampleplayback.md#class_AudioSamplePlayback), [AudioStreamPlayback](class_audiostreamplayback.md#class_AudioStreamPlayback), [CameraFeed](class_camerafeed.md#class_CameraFeed), [CharFXTransform](class_charfxtransform.md#class_CharFXTransform), [ConfigFile](class_configfile.md#class_ConfigFile), [Crypto](class_crypto.md#class_Crypto), [DirAccess](class_diraccess.md#class_DirAccess), [DTLSServer](class_dtlsserver.md#class_DTLSServer), [EditorContextMenuPlugin](class_editorcontextmenuplugin.md#class_EditorContextMenuPlugin), [EditorDebuggerPlugin](class_editordebuggerplugin.md#class_EditorDebuggerPlugin), [EditorDebuggerSession](class_editordebuggersession.md#class_EditorDebuggerSession), [EditorExportPlatform](class_editorexportplatform.md#class_EditorExportPlatform), [EditorExportPlugin](class_editorexportplugin.md#class_EditorExportPlugin), [EditorExportPreset](class_editorexportpreset.md#class_EditorExportPreset), [EditorFeatureProfile](class_editorfeatureprofile.md#class_EditorFeatureProfile), [EditorFileSystemImportFormatSupportQuery](class_editorfilesystemimportformatsupportquery.md#class_EditorFileSystemImportFormatSupportQuery), [EditorInspectorPlugin](class_editorinspectorplugin.md#class_EditorInspectorPlugin), [EditorResourceConversionPlugin](class_editorresourceconversionplugin.md#class_EditorResourceConversionPlugin), [EditorResourcePreviewGenerator](class_editorresourcepreviewgenerator.md#class_EditorResourcePreviewGenerator), [EditorResourceTooltipPlugin](class_editorresourcetooltipplugin.md#class_EditorResourceTooltipPlugin), [EditorSceneFormatImporter](class_editorsceneformatimporter.md#class_EditorSceneFormatImporter), [EditorScenePostImport](class_editorscenepostimport.md#class_EditorScenePostImport), [EditorScenePostImportPlugin](class_editorscenepostimportplugin.md#class_EditorScenePostImportPlugin), [EditorScript](class_editorscript.md#class_EditorScript), [EditorTranslationParserPlugin](class_editortranslationparserplugin.md#class_EditorTranslationParserPlugin), [EncodedObjectAsID](class_encodedobjectasid.md#class_EncodedObjectAsID), [ENetConnection](class_enetconnection.md#class_ENetConnection), [EngineProfiler](class_engineprofiler.md#class_EngineProfiler), [Expression](class_expression.md#class_Expression), [FileAccess](class_fileaccess.md#class_FileAccess), [GLTFObjectModelProperty](class_gltfobjectmodelproperty.md#class_GLTFObjectModelProperty), [HashingContext](class_hashingcontext.md#class_HashingContext), [HMACContext](class_hmaccontext.md#class_HMACContext), [HTTPClient](class_httpclient.md#class_HTTPClient), [ImageFormatLoader](class_imageformatloader.md#class_ImageFormatLoader), [JavaClass](class_javaclass.md#class_JavaClass), [JavaObject](class_javaobject.md#class_JavaObject), [JavaScriptObject](class_javascriptobject.md#class_JavaScriptObject), [KinematicCollision2D](class_kinematiccollision2d.md#class_KinematicCollision2D), [KinematicCollision3D](class_kinematiccollision3d.md#class_KinematicCollision3D), [Lightmapper](class_lightmapper.md#class_Lightmapper), [Logger](class_logger.md#class_Logger), [MeshConvexDecompositionSettings](class_meshconvexdecompositionsettings.md#class_MeshConvexDecompositionSettings), [MeshDataTool](class_meshdatatool.md#class_MeshDataTool), [MultiplayerAPI](class_multiplayerapi.md#class_MultiplayerAPI), [Mutex](class_mutex.md#class_Mutex), [NavigationPathQueryParameters2D](class_navigationpathqueryparameters2d.md#class_NavigationPathQueryParameters2D), [NavigationPathQueryParameters3D](class_navigationpathqueryparameters3d.md#class_NavigationPathQueryParameters3D), [NavigationPathQueryResult2D](class_navigationpathqueryresult2d.md#class_NavigationPathQueryResult2D), [NavigationPathQueryResult3D](class_navigationpathqueryresult3d.md#class_NavigationPathQueryResult3D), [Node3DGizmo](class_node3dgizmo.md#class_Node3DGizmo), [OggPacketSequencePlayback](class_oggpacketsequenceplayback.md#class_OggPacketSequencePlayback), [OpenXRAPIExtension](class_openxrapiextension.md#class_OpenXRAPIExtension), [OpenXRFutureResult](class_openxrfutureresult.md#class_OpenXRFutureResult), [OpenXRSpatialCapabilityConfigurationBaseHeader](class_openxrspatialcapabilityconfigurationbaseheader.md#class_OpenXRSpatialCapabilityConfigurationBaseHeader), [OpenXRSpatialComponentData](class_openxrspatialcomponentdata.md#class_OpenXRSpatialComponentData), [OpenXRStructureBase](class_openxrstructurebase.md#class_OpenXRStructureBase), [PackedDataContainerRef](class_packeddatacontainerref.md#class_PackedDataContainerRef), [PacketPeer](class_packetpeer.md#class_PacketPeer), [PCKPacker](class_pckpacker.md#class_PCKPacker), [PhysicsPointQueryParameters2D](class_physicspointqueryparameters2d.md#class_PhysicsPointQueryParameters2D), [PhysicsPointQueryParameters3D](class_physicspointqueryparameters3d.md#class_PhysicsPointQueryParameters3D), [PhysicsRayQueryParameters2D](class_physicsrayqueryparameters2d.md#class_PhysicsRayQueryParameters2D), [PhysicsRayQueryParameters3D](class_physicsrayqueryparameters3d.md#class_PhysicsRayQueryParameters3D), [PhysicsShapeQueryParameters2D](class_physicsshapequeryparameters2d.md#class_PhysicsShapeQueryParameters2D), [PhysicsShapeQueryParameters3D](class_physicsshapequeryparameters3d.md#class_PhysicsShapeQueryParameters3D), [PhysicsTestMotionParameters2D](class_physicstestmotionparameters2d.md#class_PhysicsTestMotionParameters2D), [PhysicsTestMotionParameters3D](class_physicstestmotionparameters3d.md#class_PhysicsTestMotionParameters3D), [PhysicsTestMotionResult2D](class_physicstestmotionresult2d.md#class_PhysicsTestMotionResult2D), [PhysicsTestMotionResult3D](class_physicstestmotionresult3d.md#class_PhysicsTestMotionResult3D), [RandomNumberGenerator](class_randomnumbergenerator.md#class_RandomNumberGenerator), [RDAttachmentFormat](class_rdattachmentformat.md#class_RDAttachmentFormat), [RDFramebufferPass](class_rdframebufferpass.md#class_RDFramebufferPass), [RDPipelineColorBlendState](class_rdpipelinecolorblendstate.md#class_RDPipelineColorBlendState), [RDPipelineColorBlendStateAttachment](class_rdpipelinecolorblendstateattachment.md#class_RDPipelineColorBlendStateAttachment), [RDPipelineDepthStencilState](class_rdpipelinedepthstencilstate.md#class_RDPipelineDepthStencilState), [RDPipelineMultisampleState](class_rdpipelinemultisamplestate.md#class_RDPipelineMultisampleState), [RDPipelineRasterizationState](class_rdpipelinerasterizationstate.md#class_RDPipelineRasterizationState), [RDPipelineSpecializationConstant](class_rdpipelinespecializationconstant.md#class_RDPipelineSpecializationConstant), [RDSamplerState](class_rdsamplerstate.md#class_RDSamplerState), [RDShaderSource](class_rdshadersource.md#class_RDShaderSource), [RDTextureFormat](class_rdtextureformat.md#class_RDTextureFormat), [RDTextureView](class_rdtextureview.md#class_RDTextureView), [RDUniform](class_rduniform.md#class_RDUniform), [RDVertexAttribute](class_rdvertexattribute.md#class_RDVertexAttribute), [RegEx](class_regex.md#class_RegEx), [RegExMatch](class_regexmatch.md#class_RegExMatch), [RenderSceneBuffers](class_renderscenebuffers.md#class_RenderSceneBuffers), [RenderSceneBuffersConfiguration](class_renderscenebuffersconfiguration.md#class_RenderSceneBuffersConfiguration), [Resource](class_resource.md#class_Resource), [ResourceFormatLoader](class_resourceformatloader.md#class_ResourceFormatLoader), [ResourceFormatSaver](class_resourceformatsaver.md#class_ResourceFormatSaver), [ResourceImporter](class_resourceimporter.md#class_ResourceImporter), [SceneState](class_scenestate.md#class_SceneState), [SceneTreeTimer](class_scenetreetimer.md#class_SceneTreeTimer), [ScriptBacktrace](class_scriptbacktrace.md#class_ScriptBacktrace), [Semaphore](class_semaphore.md#class_Semaphore), [SkinReference](class_skinreference.md#class_SkinReference), [SocketServer](class_socketserver.md#class_SocketServer), [StreamPeer](class_streampeer.md#class_StreamPeer), [SurfaceTool](class_surfacetool.md#class_SurfaceTool), [TextLine](class_textline.md#class_TextLine), [TextParagraph](class_textparagraph.md#class_TextParagraph), [TextServer](class_textserver.md#class_TextServer), [Thread](class_thread.md#class_Thread), [TLSOptions](class_tlsoptions.md#class_TLSOptions), [TranslationDomain](class_translationdomain.md#class_TranslationDomain), [TriangleMesh](class_trianglemesh.md#class_TriangleMesh), [Tween](class_tween.md#class_Tween), [Tweener](class_tweener.md#class_Tweener), [UDPServer](class_udpserver.md#class_UDPServer), [UPNP](class_upnp.md#class_UPNP), [UPNPDevice](class_upnpdevice.md#class_UPNPDevice), [WeakRef](class_weakref.md#class_WeakRef), [WebRTCPeerConnection](class_webrtcpeerconnection.md#class_WebRTCPeerConnection), [XMLParser](class_xmlparser.md#class_XMLParser), [XRInterface](class_xrinterface.md#class_XRInterface), [XRPose](class_xrpose.md#class_XRPose), [XRTracker](class_xrtracker.md#class_XRTracker), [ZIPPacker](class_zippacker.md#class_ZIPPacker), [ZIPReader](class_zipreader.md#class_ZIPReader)

Base class for reference-counted objects.

### Description

Base class for any object that keeps a reference count. [Resource](class_resource.md#class_Resource) and many other helper objects inherit this class.

Unlike other [Object](class_object.md#class_Object) types, **RefCounted** s keep an internal reference counter so that they are automatically released when no longer in use, and only then. **RefCounted** s therefore do not need to be freed manually with [Object.free()](class_object.md#class_Object_method_free).

 **RefCounted** instances caught in a cyclic reference will **not** be freed automatically. For example, if a node holds a reference to instance `A`, which directly or indirectly holds a reference back to `A`, `A`'s reference count will be 2. Destruction of the node will leave `A` dangling with a reference count of 1, and there will be a memory leak. To prevent this, one of the references in the cycle can be made weak with @GlobalScope.weakref().

In the vast majority of use cases, instantiating and using **RefCounted**-derived types is all you need to do. The methods provided in this class are only for advanced users, and can cause issues if misused.

 **Note:** In C#, reference-counted objects will not be freed instantly after they are no longer in use. Instead, garbage collection will run periodically and will free reference-counted objects that are no longer in use. This means that unused ones will remain in memory for a while before being removed.

### Tutorials

- [When and how to avoid using nodes for everything](../tutorials/best_practices/node_alternatives.md)

### Methods


| [int](class_int.md#class_int) | [get_reference_count](class_refcounted.md#class_RefCounted_method_get_reference_count) ( ) const |
| --- | --- |
| [bool](class_bool.md#class_bool) | [init_ref](class_refcounted.md#class_RefCounted_method_init_ref) ( ) |
| [bool](class_bool.md#class_bool) | [reference](class_refcounted.md#class_RefCounted_method_reference) ( ) |
| [bool](class_bool.md#class_bool) | [unreference](class_refcounted.md#class_RefCounted_method_unreference) ( ) |

---

### Method Descriptions

<span id="class_RefCounted_method_get_reference_count"></span>

[int](class_int.md#class_int) **get_reference_count** ( ) *const* [ðŸ”—](class_refcounted.md#class_RefCounted_method_get_reference_count)

Returns the current reference count.

---

<span id="class_RefCounted_method_init_ref"></span>

[bool](class_bool.md#class_bool) **init_ref** ( ) [ðŸ”—](class_refcounted.md#class_RefCounted_method_init_ref)

Initializes the internal reference counter. Use this only if you really know what you are doing.

Returns whether the initialization was successful.

---

<span id="class_RefCounted_method_reference"></span>

[bool](class_bool.md#class_bool) **reference** ( ) [ðŸ”—](class_refcounted.md#class_RefCounted_method_reference)

Increments the internal reference counter. Use this only if you really know what you are doing.

Returns `true` if the increment was successful, `false` otherwise.

---

<span id="class_RefCounted_method_unreference"></span>

[bool](class_bool.md#class_bool) **unreference** ( ) [ðŸ”—](class_refcounted.md#class_RefCounted_method_unreference)

Decrements the internal reference counter. Use this only if you really know what you are doing.

Returns `true` if the object should be freed after the decrement, `false` otherwise.
